import{A as fe,B as _e,C as O,D as me,s as J,r as P,f as g,a as z,g as $,h as v,d as f,c as S,j as p,i as d,x as V,u as A,v as F,w as G,E as U,F as W,G as X,H as q,I as de,z as he,e as w,p as pe,J as ge,l as j,m as B,n as ue,y as k,K as $e,L as Y}from"../chunks/scheduler.e03dca40.js";import{g as y,t as m,c as H,a as _,S as K,i as M,b as E,d as D,m as N,e as L}from"../chunks/index.9493c138.js";import{g as be,B as ke,p as C,a as Q,c as ve}from"../chunks/pocketbase.9a029c80.js";function Z(r,e){const n=e.token={};function l(t,s,o,a){if(e.token!==n)return;e.resolved=a;let c=e.ctx;o!==void 0&&(c=c.slice(),c[o]=a);const i=t&&(e.current=t)(c);let u=!1;e.block&&(e.blocks?e.blocks.forEach((h,I)=>{I!==s&&h&&(y(),m(h,1,1,()=>{e.blocks[I]===h&&(e.blocks[I]=null)}),H())}):e.block.d(1),i.c(),_(i,1),i.m(e.mount(),e.anchor),u=!0),e.block=i,e.blocks&&(e.blocks[s]=i),u&&me()}if(fe(r)){const t=_e();if(r.then(s=>{O(t),l(e.then,1,e.value,s),O(null)},s=>{if(O(t),l(e.catch,2,e.error,s),O(null),!e.hasCatch)throw s}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,r),!0;e.resolved=r}}function we(r,e,n){const l=e.slice(),{resolved:t}=r;r.current===r.then&&(l[r.value]=t),r.current===r.catch&&(l[r.error]=t),r.block.p(l,n)}function x(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}const Ie=r=>({}),ee=r=>({}),Ee=r=>({}),te=r=>({});function De(r){let e,n,l,t,s;const o=r[1].start,a=P(o,r,r[0],te),c=r[1].end,i=P(c,r,r[0],ee);return{c(){e=g("div"),n=g("div"),a&&a.c(),l=z(),t=g("div"),i&&i.c(),this.h()},l(u){e=$(u,"DIV",{class:!0});var h=v(e);n=$(h,"DIV",{class:!0});var I=v(n);a&&a.l(I),I.forEach(f),l=S(h),t=$(h,"DIV",{class:!0});var T=v(t);i&&i.l(T),T.forEach(f),h.forEach(f),this.h()},h(){p(n,"class","flex flex-row gap-2 items-center"),p(t,"class","flex flex-row gap-2 items-center"),p(e,"class","p-2 flex flex-row justify-between outline outline-2 outline-slate-300 dark:outline-slate-700")},m(u,h){d(u,e,h),V(e,n),a&&a.m(n,null),V(e,l),V(e,t),i&&i.m(t,null),s=!0},p(u,[h]){a&&a.p&&(!s||h&1)&&A(a,o,u,u[0],s?G(o,u[0],h,Ee):F(u[0]),te),i&&i.p&&(!s||h&1)&&A(i,c,u,u[0],s?G(c,u[0],h,Ie):F(u[0]),ee)},i(u){s||(_(a,u),_(i,u),s=!0)},o(u){m(a,u),m(i,u),s=!1},d(u){u&&f(e),a&&a.d(u),i&&i.d(u)}}}function Ne(r,e,n){let{$$slots:l={},$$scope:t}=e;return r.$$set=s=>{"$$scope"in s&&n(0,t=s.$$scope)},[t,l]}class Le extends K{constructor(e){super(),M(this,e,Ne,De,J,{})}}function Ve(r){let e,n,l;const t=r[4].default,s=P(t,r,r[3],null);let o=[{class:n="text-cyan-500 hover:text-cyan-600 active:text-cyan-700 "+r[1]},{href:r[0]},r[2]],a={};for(let c=0;c<o.length;c+=1)a=U(a,o[c]);return{c(){e=g("a"),s&&s.c(),this.h()},l(c){e=$(c,"A",{class:!0,href:!0});var i=v(e);s&&s.l(i),i.forEach(f),this.h()},h(){W(e,a)},m(c,i){d(c,e,i),s&&s.m(e,null),l=!0},p(c,[i]){s&&s.p&&(!l||i&8)&&A(s,t,c,c[3],l?G(t,c[3],i,null):F(c[3]),null),W(e,a=be(o,[(!l||i&2&&n!==(n="text-cyan-500 hover:text-cyan-600 active:text-cyan-700 "+c[1]))&&{class:n},(!l||i&1)&&{href:c[0]},i&4&&c[2]]))},i(c){l||(_(s,c),l=!0)},o(c){m(s,c),l=!1},d(c){c&&f(e),s&&s.d(c)}}}function Ue(r,e,n){let l;const t=["href"];let s=X(e,t),{$$slots:o={},$$scope:a}=e,{href:c=""}=e;return r.$$set=i=>{n(5,e=U(U({},e),q(i))),n(2,s=X(e,t)),"href"in i&&n(0,c=i.href),"$$scope"in i&&n(3,a=i.$$scope)},r.$$.update=()=>{n(1,l=e.class??"")},e=q(e),[c,l,s,a,o]}class ze extends K{constructor(e){super(),M(this,e,Ue,Ve,J,{href:0})}}const Se=r=>({}),le=r=>({}),je=r=>({}),se=r=>({});function ne(r){let e,n;const l=r[5].subtitle,t=P(l,r,r[4],le);return{c(){e=g("div"),t&&t.c(),this.h()},l(s){e=$(s,"DIV",{class:!0});var o=v(e);t&&t.l(o),o.forEach(f),this.h()},h(){p(e,"class","flex flex-col items-center overflow-x-auto")},m(s,o){d(s,e,o),t&&t.m(e,null),n=!0},p(s,o){t&&t.p&&(!n||o&16)&&A(t,l,s,s[4],n?G(l,s[4],o,Se):F(s[4]),le)},i(s){n||(_(t,s),n=!0)},o(s){m(t,s),n=!1},d(s){s&&f(e),t&&t.d(s)}}}function Be(r){let e,n,l,t,s;const o=r[5].image,a=P(o,r,r[4],se);let c=r[2].subtitle&&ne(r);return{c(){e=g("div"),n=g("div"),a&&a.c(),l=z(),c&&c.c(),this.h()},l(i){e=$(i,"DIV",{class:!0});var u=v(e);n=$(u,"DIV",{class:!0});var h=v(n);a&&a.l(h),h.forEach(f),l=S(u),c&&c.l(u),u.forEach(f),this.h()},h(){p(n,"class","flex grow justify-center items-center"),p(e,"class",t="flex flex-col p-2 gap-2 rounded-2xl shadow-lg bg-slate-100 dark:shadow-none dark:outline dark:outline-2 dark:outline-cyan-900 "+r[1]+" "+r[0])},m(i,u){d(i,e,u),V(e,n),a&&a.m(n,null),V(e,l),c&&c.m(e,null),s=!0},p(i,[u]){a&&a.p&&(!s||u&16)&&A(a,o,i,i[4],s?G(o,i[4],u,je):F(i[4]),se),i[2].subtitle?c?(c.p(i,u),u&4&&_(c,1)):(c=ne(i),c.c(),_(c,1),c.m(e,null)):c&&(y(),m(c,1,1,()=>{c=null}),H()),(!s||u&3&&t!==(t="flex flex-col p-2 gap-2 rounded-2xl shadow-lg bg-slate-100 dark:shadow-none dark:outline dark:outline-2 dark:outline-cyan-900 "+i[1]+" "+i[0]))&&p(e,"class",t)},i(i){s||(_(a,i),_(c),s=!0)},o(i){m(a,i),m(c),s=!1},d(i){i&&f(e),a&&a.d(i),c&&c.d()}}}function Ce(r,e,n){let l,t,{$$slots:s={},$$scope:o}=e;const a=de(s);let{size:c="md"}=e;return r.$$set=i=>{n(6,e=U(U({},e),q(i))),"size"in i&&n(3,c=i.size),"$$scope"in i&&n(4,o=i.$$scope)},r.$$.update=()=>{r.$$.dirty&8&&n(1,l={sm:"w-24 h-24",md:"w-48 h-48",lg:"w-96 h-96"}[c]??"w-48 h-48"),n(0,t=e.class)},e=q(e),[t,l,a,c,o,s]}class Pe extends K{constructor(e){super(),M(this,e,Ce,Be,J,{size:3})}}function Ae(r){let e,n,l;const t=r[2].default,s=P(t,r,r[1],null);return{c(){e=g("div"),s&&s.c(),this.h()},l(o){e=$(o,"DIV",{class:!0});var a=v(e);s&&s.l(a),a.forEach(f),this.h()},h(){p(e,"class",n="flex flex-row flex-wrap justify-center items-start gap-4 "+r[0])},m(o,a){d(o,e,a),s&&s.m(e,null),l=!0},p(o,[a]){s&&s.p&&(!l||a&2)&&A(s,t,o,o[1],l?G(t,o[1],a,null):F(o[1]),null),(!l||a&1&&n!==(n="flex flex-row flex-wrap justify-center items-start gap-4 "+o[0]))&&p(e,"class",n)},i(o){l||(_(s,o),l=!0)},o(o){m(s,o),l=!1},d(o){o&&f(e),s&&s.d(o)}}}function Fe(r,e,n){let l,{$$slots:t={},$$scope:s}=e;return r.$$set=o=>{n(3,e=U(U({},e),q(o))),"$$scope"in o&&n(1,s=o.$$scope)},r.$$.update=()=>{n(0,l=e.class)},e=q(e),[l,s,t]}class Ge extends K{constructor(e){super(),M(this,e,Fe,Ae,J,{})}}function re(r,e,n){const l=r.slice();return l[11]=e[n],l}function oe(r){let e,n,l,t,s,o;return e=new Q({props:{$$slots:{default:[qe]},$$scope:{ctx:r}}}),e.$on("click",r[6]),{c(){E(e.$$.fragment),n=z(),l=g("input"),this.h()},l(a){D(e.$$.fragment,a),n=S(a),l=$(a,"INPUT",{type:!0,class:!0}),this.h()},h(){p(l,"type","file"),p(l,"class","hidden")},m(a,c){N(e,a,c),d(a,n,c),d(a,l,c),r[7](l),t=!0,s||(o=ge(l,"change",r[8]),s=!0)},p(a,c){const i={};c&16384&&(i.$$scope={dirty:c,ctx:a}),e.$set(i)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){m(e.$$.fragment,a),t=!1},d(a){a&&(f(n),f(l)),L(e,a),r[7](null),s=!1,o()}}}function qe(r){let e;return{c(){e=j("Upload")},l(n){e=B(n,"Upload")},m(n,l){d(n,e,l)},d(n){n&&f(e)}}}function ye(r){let e,n,l=r[1]&&oe(r);return{c(){l&&l.c(),e=w()},l(t){l&&l.l(t),e=w()},m(t,s){l&&l.m(t,s),d(t,e,s),n=!0},p(t,s){t[1]?l?(l.p(t,s),s&2&&_(l,1)):(l=oe(t),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(y(),m(l,1,1,()=>{l=null}),H())},i(t){n||(_(l),n=!0)},o(t){m(l),n=!1},d(t){t&&f(e),l&&l.d(t)}}}function He(r){let e,n=r[1].username+"",l,t,s,o;return s=new Q({props:{$$slots:{default:[Ke]},$$scope:{ctx:r}}}),s.$on("click",r[4]),{c(){e=g("div"),l=j(n),t=z(),E(s.$$.fragment)},l(a){e=$(a,"DIV",{});var c=v(e);l=B(c,n),c.forEach(f),t=S(a),D(s.$$.fragment,a)},m(a,c){d(a,e,c),V(e,l),d(a,t,c),N(s,a,c),o=!0},p(a,c){(!o||c&2)&&n!==(n=a[1].username+"")&&ue(l,n);const i={};c&16384&&(i.$$scope={dirty:c,ctx:a}),s.$set(i)},i(a){o||(_(s.$$.fragment,a),o=!0)},o(a){m(s.$$.fragment,a),o=!1},d(a){a&&(f(e),f(t)),L(s,a)}}}function Je(r){let e,n;return e=new Q({props:{href:"/login",$$slots:{default:[Me]},$$scope:{ctx:r}}}),{c(){E(e.$$.fragment)},l(l){D(e.$$.fragment,l)},m(l,t){N(e,l,t),n=!0},p(l,t){const s={};t&16384&&(s.$$scope={dirty:t,ctx:l}),e.$set(s)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){m(e.$$.fragment,l),n=!1},d(l){L(e,l)}}}function Ke(r){let e;return{c(){e=j("Logout")},l(n){e=B(n,"Logout")},m(n,l){d(n,e,l)},d(n){n&&f(e)}}}function Me(r){let e;return{c(){e=j("Login")},l(n){e=B(n,"Login")},m(n,l){d(n,e,l)},d(n){n&&f(e)}}}function Te(r){let e,n,l,t;const s=[Je,He],o=[];function a(c,i){return c[1]?1:0}return e=a(r),n=o[e]=s[e](r),{c(){n.c(),l=w()},l(c){n.l(c),l=w()},m(c,i){o[e].m(c,i),d(c,l,i),t=!0},p(c,i){let u=e;e=a(c),e===u?o[e].p(c,i):(y(),m(o[u],1,1,()=>{o[u]=null}),H(),n=o[e],n?n.p(c,i):(n=o[e]=s[e](c),n.c()),_(n,1),n.m(l.parentNode,l))},i(c){t||(_(n),t=!0)},o(c){m(n),t=!1},d(c){c&&f(l),o[e].d(c)}}}function ce(r){let e,n,l,t={ctx:r,current:null,token:null,hasCatch:!1,pending:Ze,then:Qe,catch:Oe,value:3,blocks:[,,,]};return Z(n=r[3],t),{c(){e=w(),t.block.c()},l(s){e=w(),t.block.l(s)},m(s,o){d(s,e,o),t.block.m(s,t.anchor=o),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(s,o){r=s,t.ctx=r,o&8&&n!==(n=r[3])&&Z(n,t)||we(t,r,o)},i(s){l||(_(t.block),l=!0)},o(s){for(let o=0;o<3;o+=1){const a=t.blocks[o];m(a)}l=!1},d(s){s&&f(e),t.block.d(s),t.token=null,t=null}}}function Oe(r){return{c:k,l:k,m:k,p:k,i:k,o:k,d:k}}function Qe(r){let e,n,l,t=r[3].totalItems==0&&ae();return n=new Ge({props:{$$slots:{default:[Ye]},$$scope:{ctx:r}}}),{c(){t&&t.c(),e=z(),E(n.$$.fragment)},l(s){t&&t.l(s),e=S(s),D(n.$$.fragment,s)},m(s,o){t&&t.m(s,o),d(s,e,o),N(n,s,o),l=!0},p(s,o){s[3].totalItems==0?t||(t=ae(),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null);const a={};o&16392&&(a.$$scope={dirty:o,ctx:s}),n.$set(a)},i(s){l||(_(n.$$.fragment,s),l=!0)},o(s){m(n.$$.fragment,s),l=!1},d(s){s&&f(e),t&&t.d(s),L(n,s)}}}function ae(r){let e;return{c(){e=j("No files.")},l(n){e=B(n,"No files.")},m(n,l){d(n,e,l)},d(n){n&&f(e)}}}function Re(r){let e,n,l;return{c(){e=g("img"),this.h()},l(t){e=$(t,"IMG",{slot:!0,src:!0,alt:!0}),this.h()},h(){p(e,"slot","image"),Y(e.src,n=r[5](r[11]))||p(e,"src",n),p(e,"alt",l=r[11].name)},m(t,s){d(t,e,s)},p(t,s){s&8&&!Y(e.src,n=t[5](t[11]))&&p(e,"src",n),s&8&&l!==(l=t[11].name)&&p(e,"alt",l)},d(t){t&&f(e)}}}function We(r){let e,n=r[11].name+"",l;return{c(){e=g("div"),l=j(n),this.h()},l(t){e=$(t,"DIV",{slot:!0});var s=v(e);l=B(s,n),s.forEach(f),this.h()},h(){p(e,"slot","subtitle")},m(t,s){d(t,e,s),V(e,l)},p(t,s){s&8&&n!==(n=t[11].name+"")&&ue(l,n)},d(t){t&&f(e)}}}function Xe(r){let e,n,l;return e=new Pe({props:{size:"lg",$$slots:{subtitle:[We],image:[Re]},$$scope:{ctx:r}}}),{c(){E(e.$$.fragment),n=z()},l(t){D(e.$$.fragment,t),n=S(t)},m(t,s){N(e,t,s),d(t,n,s),l=!0},p(t,s){const o={};s&16392&&(o.$$scope={dirty:s,ctx:t}),e.$set(o)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){m(e.$$.fragment,t),l=!1},d(t){t&&f(n),L(e,t)}}}function ie(r){let e,n;return e=new ze({props:{href:C.files.getUrl(r[11],r[11].file),$$slots:{default:[Xe]},$$scope:{ctx:r}}}),{c(){E(e.$$.fragment)},l(l){D(e.$$.fragment,l)},m(l,t){N(e,l,t),n=!0},p(l,t){const s={};t&8&&(s.href=C.files.getUrl(l[11],l[11].file)),t&16392&&(s.$$scope={dirty:t,ctx:l}),e.$set(s)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){m(e.$$.fragment,l),n=!1},d(l){L(e,l)}}}function Ye(r){let e,n,l=x(r[3].items),t=[];for(let o=0;o<l.length;o+=1)t[o]=ie(re(r,l,o));const s=o=>m(t[o],1,1,()=>{t[o]=null});return{c(){for(let o=0;o<t.length;o+=1)t[o].c();e=w()},l(o){for(let a=0;a<t.length;a+=1)t[a].l(o);e=w()},m(o,a){for(let c=0;c<t.length;c+=1)t[c]&&t[c].m(o,a);d(o,e,a),n=!0},p(o,a){if(a&40){l=x(o[3].items);let c;for(c=0;c<l.length;c+=1){const i=re(o,l,c);t[c]?(t[c].p(i,a),_(t[c],1)):(t[c]=ie(i),t[c].c(),_(t[c],1),t[c].m(e.parentNode,e))}for(y(),c=l.length;c<t.length;c+=1)s(c);H()}},i(o){if(!n){for(let a=0;a<l.length;a+=1)_(t[a]);n=!0}},o(o){t=t.filter(Boolean);for(let a=0;a<t.length;a+=1)m(t[a]);n=!1},d(o){o&&f(e),$e(t,o)}}}function Ze(r){let e;return{c(){e=j("Loading...")},l(n){e=B(n,"Loading...")},m(n,l){d(n,e,l)},p:k,i:k,o:k,d(n){n&&f(e)}}}function xe(r){let e,n,l=r[1]&&ce(r);return{c(){l&&l.c(),e=w()},l(t){l&&l.l(t),e=w()},m(t,s){l&&l.m(t,s),d(t,e,s),n=!0},p(t,s){t[1]?l?(l.p(t,s),s&2&&_(l,1)):(l=ce(t),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(y(),m(l,1,1,()=>{l=null}),H())},i(t){n||(_(l),n=!0)},o(t){m(l),n=!1},d(t){t&&f(e),l&&l.d(t)}}}function et(r){let e,n,l,t;return e=new Le({props:{$$slots:{end:[Te],start:[ye]},$$scope:{ctx:r}}}),l=new ke({props:{$$slots:{default:[xe]},$$scope:{ctx:r}}}),{c(){E(e.$$.fragment),n=z(),E(l.$$.fragment)},l(s){D(e.$$.fragment,s),n=S(s),D(l.$$.fragment,s)},m(s,o){N(e,s,o),d(s,n,o),N(l,s,o),t=!0},p(s,[o]){const a={};o&16391&&(a.$$scope={dirty:o,ctx:s}),e.$set(a);const c={};o&16394&&(c.$$scope={dirty:o,ctx:s}),l.$set(c)},i(s){t||(_(e.$$.fragment,s),_(l.$$.fragment,s),t=!0)},o(s){m(e.$$.fragment,s),m(l.$$.fragment,s),t=!1},d(s){s&&f(n),L(e,s),L(l,s)}}}function tt(r,e,n){let l;he(r,ve,b=>n(1,l=b));let t=null,s=null,o=null;function a(b){C.authStore.clear()}function c(){n(3,t=C.collection("files").getList(1,30,{sort:"-created"}))}async function i(){let b=[];for(const R of o)b.push(C.collection("files").create({name:R.name,file:R,owner:l.id}));await Promise.all(b),n(0,o=null),await c()}function u(b){return C.files.getUrl(b,b.file,{thumb:"96x96f"})}const h=()=>s.click();function I(b){pe[b?"unshift":"push"](()=>{s=b,n(2,s)})}function T(){o=this.files,n(0,o)}return r.$$.update=()=>{r.$$.dirty&1&&o&&i(),r.$$.dirty&2&&l&&c()},[o,l,s,t,a,u,h,I,T]}class rt extends K{constructor(e){super(),M(this,e,tt,et,J,{})}}export{rt as component};
