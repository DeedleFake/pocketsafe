import{s as F,a as P,f as N,c as U,g as y,j as I,i as $,A as G,d as p,z as H,B as le,l as j,m as R,p as T,e as C,y as E,C as ce,D as J,E as Me,F as K,G as W,h as D,H as Pe,I as Q,x as V,J as Ue,K as Ce,n as q,L as _e,r as ne,u as se,v as re,w as ie,M as Oe,N as ee,O as pe}from"../chunks/scheduler.c073d8ea.js";import{B as De,c as Se,p as ae,g as Ve,L as Z,a as je,N as Te,b as Ge,h as me,u as qe,C as Ae,t as de}from"../chunks/CircularProgress.45720261.js";import{S as M,i as O,b,d as v,m as k,a as _,t as m,e as w,f as X,g as z,c as B}from"../chunks/index.12b87e20.js";import{j as Re,w as He}from"../chunks/singletons.582a2310.js";function Y(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function Je(i){let e;return{c(){e=j("Upload")},l(n){e=R(n,"Upload")},m(n,l){$(n,e,l)},d(n){n&&p(e)}}}function Ke(i){let e,n,l,t,s,r;return e=new De({props:{$$slots:{default:[Je]},$$scope:{ctx:i}}}),e.$on("click",i[2]),{c(){b(e.$$.fragment),n=P(),l=N("input"),this.h()},l(a){v(e.$$.fragment,a),n=U(a),l=y(a,"INPUT",{type:!0,class:!0}),this.h()},h(){I(l,"type","file"),I(l,"class","hidden")},m(a,o){k(e,a,o),$(a,n,o),$(a,l,o),i[3](l),t=!0,s||(r=G(l,"change",i[4]),s=!0)},p(a,[o]){const f={};o&256&&(f.$$scope={dirty:o,ctx:a}),e.$set(f)},i(a){t||(_(e.$$.fragment,a),t=!0)},o(a){m(e.$$.fragment,a),t=!1},d(a){a&&(p(n),p(l)),w(e,a),i[3](null),s=!1,r()}}}function We(i,e,n){let l;H(i,Se,c=>n(5,l=c));const t=le();let s=null,r=null;async function a(){let c=[];for(const d of r)c.push(ae.collection("files").create({name:d.name,file:d,owner:l.id}));await Promise.all(c),t("upload",r),n(0,r=null)}const o=()=>s.click();function f(c){T[c?"unshift":"push"](()=>{s=c,n(1,s)})}function u(){r=this.files,n(0,r)}return i.$$.update=()=>{i.$$.dirty&1&&r&&a()},[r,s,o,f,u]}class Qe extends M{constructor(e){super(),O(this,e,We,Ke,F,{})}}function Xe(i){let e,n,l,t=[{type:"text"},{class:i[2]},i[3]],s={};for(let r=0;r<t.length;r+=1)s=J(s,t[r]);return{c(){e=N("input"),this.h()},l(r){e=y(r,"INPUT",{type:!0,class:!0}),this.h()},h(){K(e,s)},m(r,a){$(r,e,a),e.autofocus&&e.focus(),W(e,i[0]),n||(l=G(e,"input",i[5]),n=!0)},p(r,a){K(e,s=Ve(t,[{type:"text"},{class:r[2]},a&8&&r[3]])),a&1&&e.value!==r[0]&&W(e,r[0])},d(r){r&&p(e),n=!1,l()}}}function Ye(i){let e,n,l,t=[{type:"password"},{class:i[2]},i[3]],s={};for(let r=0;r<t.length;r+=1)s=J(s,t[r]);return{c(){e=N("input"),this.h()},l(r){e=y(r,"INPUT",{type:!0,class:!0}),this.h()},h(){K(e,s)},m(r,a){$(r,e,a),e.autofocus&&e.focus(),W(e,i[0]),n||(l=G(e,"input",i[4]),n=!0)},p(r,a){K(e,s=Ve(t,[{type:"password"},{class:r[2]},a&8&&r[3]])),a&1&&e.value!==r[0]&&W(e,r[0])},d(r){r&&p(e),n=!1,l()}}}function Ze(i){let e;function n(s,r){return s[1]?Ye:Xe}let l=n(i),t=l(i);return{c(){t.c(),e=C()},l(s){t.l(s),e=C()},m(s,r){t.m(s,r),$(s,e,r)},p(s,[r]){l===(l=n(s))&&t?t.p(s,r):(t.d(1),t=l(s),t&&(t.c(),t.m(e.parentNode,e)))},i:E,o:E,d(s){s&&p(e),t.d(s)}}}function xe(i,e,n){const l=["password","value"];let t=ce(e,l),{password:s=!1}=e,{value:r=""}=e;const a=`
		px-2
		py-1
		rounded-2xl
		border-4
		transition-all
		text-slate-100
		outline-none
		border-cyan-500
		dark:text-slate-800
		hover:border-cyan-600
		focus:border-cyan-700
		disabled:bg-cyan-200
		disabled:text-cyan-700
		disabled:border-cyan-300
	`;function o(){r=this.value,n(0,r)}function f(){r=this.value,n(0,r)}return i.$$set=u=>{e=J(J({},e),Me(u)),n(3,t=ce(e,l)),"password"in u&&n(1,s=u.password),"value"in u&&n(0,r=u.value)},[r,s,a,t,o,f]}class te extends M{constructor(e){super(),O(this,e,xe,Ze,F,{password:1,value:0})}}function et(i){let e,n,l,t,s,r;function a(f){i[2](f)}let o={placeholder:"Search..."};return i[0]!==void 0&&(o.value=i[0]),n=new te({props:o}),T.push(()=>X(n,"value",a)),{c(){e=N("form"),b(n.$$.fragment),this.h()},l(f){e=y(f,"FORM",{class:!0});var u=D(e);v(n.$$.fragment,u),u.forEach(p),this.h()},h(){I(e,"class","contents")},m(f,u){$(f,e,u),k(n,e,null),t=!0,s||(r=G(e,"submit",Pe(i[1])),s=!0)},p(f,[u]){const c={};!l&&u&1&&(l=!0,c.value=f[0],Q(()=>l=!1)),n.$set(c)},i(f){t||(_(n.$$.fragment,f),t=!0)},o(f){m(n.$$.fragment,f),t=!1},d(f){f&&p(e),w(n),s=!1,r()}}}function tt(i,e,n){const l=le();let{value:t=""}=e;function s(){l("submit",t)}function r(a){t=a,n(0,t)}return i.$$set=a=>{"value"in a&&n(0,t=a.value)},[t,s,r]}class lt extends M{constructor(e){super(),O(this,e,tt,et,F,{value:0})}}function $e(i,e,n){const l=i.slice();return l[7]=e[n],l}function ge(i){let e,n,l,t="...",s;return e=new Z({props:{$$slots:{default:[nt]},$$scope:{ctx:i}}}),e.$on("click",i[3]),{c(){b(e.$$.fragment),n=P(),l=N("div"),l.textContent=t},l(r){v(e.$$.fragment,r),n=U(r),l=y(r,"DIV",{"data-svelte-h":!0}),Ce(l)!=="svelte-12rhcfw"&&(l.textContent=t)},m(r,a){k(e,r,a),$(r,n,a),$(r,l,a),s=!0},p(r,a){const o={};a&1024&&(o.$$scope={dirty:a,ctx:r}),e.$set(o)},i(r){s||(_(e.$$.fragment,r),s=!0)},o(r){m(e.$$.fragment,r),s=!1},d(r){r&&(p(n),p(l)),w(e,r)}}}function nt(i){let e;return{c(){e=j("1")},l(n){e=R(n,"1")},m(n,l){$(n,e,l)},d(n){n&&p(e)}}}function st(i){let e,n;function l(...t){return i[4](i[7],...t)}return e=new Z({props:{$$slots:{default:[it]},$$scope:{ctx:i}}}),e.$on("click",l),{c(){b(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,s){k(e,t,s),n=!0},p(t,s){i=t;const r={};s&1025&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(t){n||(_(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function rt(i){let e,n;return{c(){e=N("div"),n=j(i[0])},l(l){e=y(l,"DIV",{});var t=D(e);n=R(t,i[0]),t.forEach(p)},m(l,t){$(l,e,t),V(e,n)},p(l,t){t&1&&q(n,l[0])},i:E,o:E,d(l){l&&p(e)}}}function it(i){let e=i[7]+"",n;return{c(){n=j(e)},l(l){n=R(l,e)},m(l,t){$(l,n,t)},p(l,t){t&1&&e!==(e=l[7]+"")&&q(n,e)},d(l){l&&p(n)}}}function he(i){let e,n,l,t;const s=[rt,st],r=[];function a(o,f){return o[7]===o[0]?0:o[7]>1&&o[7]<o[1]?1:-1}return~(e=a(i))&&(n=r[e]=s[e](i)),{c(){n&&n.c(),l=C()},l(o){n&&n.l(o),l=C()},m(o,f){~e&&r[e].m(o,f),$(o,l,f),t=!0},p(o,f){let u=e;e=a(o),e===u?~e&&r[e].p(o,f):(n&&(z(),m(r[u],1,1,()=>{r[u]=null}),B()),~e?(n=r[e],n?n.p(o,f):(n=r[e]=s[e](o),n.c()),_(n,1),n.m(l.parentNode,l)):n=null)},i(o){t||(_(n),t=!0)},o(o){m(n),t=!1},d(o){o&&p(l),~e&&r[e].d(o)}}}function be(i){let e,n="...",l,t,s;return t=new Z({props:{$$slots:{default:[at]},$$scope:{ctx:i}}}),t.$on("click",i[5]),{c(){e=N("div"),e.textContent=n,l=P(),b(t.$$.fragment)},l(r){e=y(r,"DIV",{"data-svelte-h":!0}),Ce(e)!=="svelte-12rhcfw"&&(e.textContent=n),l=U(r),v(t.$$.fragment,r)},m(r,a){$(r,e,a),$(r,l,a),k(t,r,a),s=!0},p(r,a){const o={};a&1026&&(o.$$scope={dirty:a,ctx:r}),t.$set(o)},i(r){s||(_(t.$$.fragment,r),s=!0)},o(r){m(t.$$.fragment,r),s=!1},d(r){r&&(p(e),p(l)),w(t,r)}}}function at(i){let e;return{c(){e=j(i[1])},l(n){e=R(n,i[1])},m(n,l){$(n,e,l)},p(n,l){l&2&&q(e,n[1])},d(n){n&&p(e)}}}function ot(i){let e,n,l,t,s=i[0]!==1&&ge(i),r=Y([i[0]-2,i[0]-1,i[0],i[0]+1,i[0]+2]),a=[];for(let u=0;u<5;u+=1)a[u]=he($e(i,r,u));const o=u=>m(a[u],1,1,()=>{a[u]=null});let f=i[0]!==i[1]&&be(i);return{c(){e=N("div"),s&&s.c(),n=P();for(let u=0;u<5;u+=1)a[u].c();l=P(),f&&f.c(),this.h()},l(u){e=y(u,"DIV",{class:!0});var c=D(e);s&&s.l(c),n=U(c);for(let d=0;d<5;d+=1)a[d].l(c);l=U(c),f&&f.l(c),c.forEach(p),this.h()},h(){I(e,"class","flex flex-row justify-between items-center gap-4")},m(u,c){$(u,e,c),s&&s.m(e,null),V(e,n);for(let d=0;d<5;d+=1)a[d]&&a[d].m(e,null);V(e,l),f&&f.m(e,null),t=!0},p(u,[c]){if(u[0]!==1?s?(s.p(u,c),c&1&&_(s,1)):(s=ge(u),s.c(),_(s,1),s.m(e,n)):s&&(z(),m(s,1,1,()=>{s=null}),B()),c&7){r=Y([u[0]-2,u[0]-1,u[0],u[0]+1,u[0]+2]);let d;for(d=0;d<5;d+=1){const h=$e(u,r,d);a[d]?(a[d].p(h,c),_(a[d],1)):(a[d]=he(h),a[d].c(),_(a[d],1),a[d].m(e,l))}for(z(),d=5;d<5;d+=1)o(d);B()}u[0]!==u[1]?f?(f.p(u,c),c&3&&_(f,1)):(f=be(u),f.c(),_(f,1),f.m(e,null)):f&&(z(),m(f,1,1,()=>{f=null}),B())},i(u){if(!t){_(s);for(let c=0;c<5;c+=1)_(a[c]);_(f),t=!0}},o(u){m(s),a=a.filter(Boolean);for(let c=0;c<5;c+=1)m(a[c]);m(f),t=!1},d(u){u&&p(e),s&&s.d(),Ue(a,u),f&&f.d()}}}function ut(i,e,n){const l=le();let{page:t=1}=e,{pages:s=1}=e;function r(u,c){u==null||u.preventDefault(),n(0,t=c),l("change",c)}const a=u=>r(u,1),o=(u,c)=>r(c,u),f=u=>r(u,s);return i.$$set=u=>{"page"in u&&n(0,t=u.page),"pages"in u&&n(1,s=u.pages)},i.$$.update=()=>{i.$$.dirty&3&&s&&(t<1||isNaN(t))&&r(null,1),i.$$.dirty&3&&s&&t>s&&r(null,s)},[t,s,r,a,o,f]}class ft extends M{constructor(e){super(),O(this,e,ut,ot,F,{page:0,pages:1})}}function ct(i){let e;return{c(){e=j("Login")},l(n){e=R(n,"Login")},m(n,l){$(n,e,l)},d(n){n&&p(e)}}}function _t(i){let e,n,l,t,s,r,a,o,f,u,c,d,h,A;function Be(g){i[4](g)}let oe={placeholder:"E-mail address..."};i[0]!==void 0&&(oe.value=i[0]),s=new te({props:oe}),T.push(()=>X(s,"value",Be));function Fe(g){i[5](g)}let ue={password:!0,placeholder:"Password..."};return i[1]!==void 0&&(ue.value=i[1]),o=new te({props:ue}),T.push(()=>X(o,"value",Fe)),c=new De({props:{type:"submit",disabled:!i[0]||!i[1],$$slots:{default:[ct]},$$scope:{ctx:i}}}),{c(){e=N("div"),n=j(i[2]),l=P(),t=N("form"),b(s.$$.fragment),a=P(),b(o.$$.fragment),u=P(),b(c.$$.fragment),this.h()},l(g){e=y(g,"DIV",{class:!0});var L=D(e);n=R(L,i[2]),L.forEach(p),l=U(g),t=y(g,"FORM",{class:!0});var S=D(t);v(s.$$.fragment,S),a=U(S),v(o.$$.fragment,S),u=U(S),v(c.$$.fragment,S),S.forEach(p),this.h()},h(){I(e,"class","text-red-500"),_e(e,"invisible",!i[2]),I(t,"class","flex flex-col items-end gap-4")},m(g,L){$(g,e,L),V(e,n),$(g,l,L),$(g,t,L),k(s,t,null),V(t,a),k(o,t,null),V(t,u),k(c,t,null),d=!0,h||(A=G(t,"submit",Pe(i[3])),h=!0)},p(g,L){(!d||L&4)&&q(n,g[2]),(!d||L&4)&&_e(e,"invisible",!g[2]);const S={};!r&&L&1&&(r=!0,S.value=g[0],Q(()=>r=!1)),s.$set(S);const fe={};!f&&L&2&&(f=!0,fe.value=g[1],Q(()=>f=!1)),o.$set(fe);const x={};L&3&&(x.disabled=!g[0]||!g[1]),L&64&&(x.$$scope={dirty:L,ctx:g}),c.$set(x)},i(g){d||(_(s.$$.fragment,g),_(o.$$.fragment,g),_(c.$$.fragment,g),d=!0)},o(g){m(s.$$.fragment,g),m(o.$$.fragment,g),m(c.$$.fragment,g),d=!1},d(g){g&&(p(e),p(l),p(t)),w(s),w(o),w(c),h=!1,A()}}}function pt(i){let e,n;return e=new je({props:{$$slots:{default:[_t]},$$scope:{ctx:i}}}),{c(){b(e.$$.fragment)},l(l){v(e.$$.fragment,l)},m(l,t){k(e,l,t),n=!0},p(l,[t]){const s={};t&71&&(s.$$scope={dirty:t,ctx:l}),e.$set(s)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){m(e.$$.fragment,l),n=!1},d(l){w(e,l)}}}function mt(i,e,n){let l="",t="",s=null;async function r(){try{await ae.collection("users").authWithPassword(l,t)}catch(f){console.error(f),n(2,s="Incorrect login information.");return}}function a(f){l=f,n(0,l)}function o(f){t=f,n(1,t)}return[l,t,s,r,a,o]}class dt extends M{constructor(e){super(),O(this,e,mt,pt,F,{})}}function $t(i){let e,n,l;const t=i[2].default,s=ne(t,i,i[1],null);return{c(){e=N("div"),s&&s.c(),this.h()},l(r){e=y(r,"DIV",{class:!0});var a=D(e);s&&s.l(a),a.forEach(p),this.h()},h(){I(e,"class",n="flex flex-row flex-wrap justify-center items-start gap-4 "+i[0])},m(r,a){$(r,e,a),s&&s.m(e,null),l=!0},p(r,[a]){s&&s.p&&(!l||a&2)&&se(s,t,r,r[1],l?ie(t,r[1],a,null):re(r[1]),null),(!l||a&1&&n!==(n="flex flex-row flex-wrap justify-center items-start gap-4 "+r[0]))&&I(e,"class",n)},i(r){l||(_(s,r),l=!0)},o(r){m(s,r),l=!1},d(r){r&&p(e),s&&s.d(r)}}}function gt(i,e,n){let{$$slots:l={},$$scope:t}=e,{class:s=""}=e;return i.$$set=r=>{"class"in r&&n(0,s=r.class),"$$scope"in r&&n(1,t=r.$$scope)},[s,t,l]}class ht extends M{constructor(e){super(),O(this,e,gt,$t,F,{class:0})}}const bt=i=>({}),ve=i=>({}),vt=i=>({}),ke=i=>({});function we(i){let e,n;const l=i[5].subtitle,t=ne(l,i,i[4],ve);return{c(){e=N("div"),t&&t.c(),this.h()},l(s){e=y(s,"DIV",{class:!0});var r=D(e);t&&t.l(r),r.forEach(p),this.h()},h(){I(e,"class","flex flex-col items-center overflow-x-auto")},m(s,r){$(s,e,r),t&&t.m(e,null),n=!0},p(s,r){t&&t.p&&(!n||r&16)&&se(t,l,s,s[4],n?ie(l,s[4],r,bt):re(s[4]),ve)},i(s){n||(_(t,s),n=!0)},o(s){m(t,s),n=!1},d(s){s&&p(e),t&&t.d(s)}}}function kt(i){let e,n,l,t,s;const r=i[5].image,a=ne(r,i,i[4],ke);let o=i[2].subtitle&&we(i);return{c(){e=N("div"),n=N("div"),a&&a.c(),l=P(),o&&o.c(),this.h()},l(f){e=y(f,"DIV",{class:!0});var u=D(e);n=y(u,"DIV",{class:!0});var c=D(n);a&&a.l(c),c.forEach(p),l=U(u),o&&o.l(u),u.forEach(p),this.h()},h(){I(n,"class","flex flex-col grow justify-center items-stretch rounded-lg overflow-hidden transition-all group-hover:opacity-80 "),I(e,"class",t="group flex flex-col p-2 gap-2 rounded-2xl shadow-lg bg-slate-100 transition-all dark:bg-slate-900 dark:outline dark:outline-2 dark:outline-cyan-900 hover:shadow-xl "+i[1]+" "+i[0])},m(f,u){$(f,e,u),V(e,n),a&&a.m(n,null),V(e,l),o&&o.m(e,null),s=!0},p(f,[u]){a&&a.p&&(!s||u&16)&&se(a,r,f,f[4],s?ie(r,f[4],u,vt):re(f[4]),ke),f[2].subtitle?o?(o.p(f,u),u&4&&_(o,1)):(o=we(f),o.c(),_(o,1),o.m(e,null)):o&&(z(),m(o,1,1,()=>{o=null}),B()),(!s||u&3&&t!==(t="group flex flex-col p-2 gap-2 rounded-2xl shadow-lg bg-slate-100 transition-all dark:bg-slate-900 dark:outline dark:outline-2 dark:outline-cyan-900 hover:shadow-xl "+f[1]+" "+f[0]))&&I(e,"class",t)},i(f){s||(_(a,f),_(o),s=!0)},o(f){m(a,f),m(o),s=!1},d(f){f&&p(e),a&&a.d(f),o&&o.d()}}}function wt(i,e,n){let l,{$$slots:t={},$$scope:s}=e;const r=Oe(t);let{size:a="md"}=e,{class:o=""}=e;return i.$$set=f=>{"size"in f&&n(3,a=f.size),"class"in f&&n(0,o=f.class),"$$scope"in f&&n(4,s=f.$$scope)},i.$$.update=()=>{i.$$.dirty&8&&n(1,l={sm:"w-24 h-24",md:"w-48 h-48",lg:"w-96 h-96"}[a]??"w-48 h-48")},[o,l,r,a,s,t]}class It extends M{constructor(e){super(),O(this,e,wt,kt,F,{size:3,class:0})}}function ze(i){return i=new URL(i),i.hash?new URLSearchParams(i.hash.substring(1)):new URLSearchParams}const Nt=He(window.location,i=>{const e=n=>{i(n.newURL)};return window.addEventListener("hashchange",e),()=>{window.removeEventListener("hashchange",e)}}),yt={subscribe:Re(Nt,i=>ze(i)).subscribe,set:i=>{window.location.hash=i}};function Ie(i,e,n=l=>l){return{subscribe:Re(yt,l=>{const t=l.get(i);return t==null?e:n(t)}).subscribe,set:l=>{window.location.hash=Et(ze(window.location),{[i]:l}).toString()}}}function Et(i,e={}){return Object.entries(e).reduce((n,[l,t])=>(n.set(l,t),n),i??new URLSearchParams)}function Ne(i,e,n){const l=i.slice();return l[10]=e[n],l}function ye(i){let e,n;return e=new Qe({}),e.$on("upload",i[7]),{c(){b(e.$$.fragment)},l(l){v(e.$$.fragment,l)},m(l,t){k(e,l,t),n=!0},p:E,i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){m(e.$$.fragment,l),n=!1},d(l){w(e,l)}}}function Lt(i){let e,n,l=i[2]&&ye(i);return{c(){l&&l.c(),e=C()},l(t){l&&l.l(t),e=C()},m(t,s){l&&l.m(t,s),$(t,e,s),n=!0},p(t,s){t[2]?l?(l.p(t,s),s&4&&_(l,1)):(l=ye(t),l.c(),_(l,1),l.m(e.parentNode,e)):l&&(z(),m(l,1,1,()=>{l=null}),B())},i(t){n||(_(l),n=!0)},o(t){m(l),n=!1},d(t){t&&p(e),l&&l.d(t)}}}function Pt(i){let e,n;return e=new lt({props:{slot:"middle",value:i[0]}}),e.$on("submit",i[6]),{c(){b(e.$$.fragment)},l(l){v(e.$$.fragment,l)},m(l,t){k(e,l,t),n=!0},p(l,t){const s={};t&1&&(s.value=l[0]),e.$set(s)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){m(e.$$.fragment,l),n=!1},d(l){w(e,l)}}}function Ut(i){let e,n;return e=new Ge({props:{slot:"end"}}),{c(){b(e.$$.fragment)},l(l){v(e.$$.fragment,l)},m(l,t){k(e,l,t),n=!0},p:E,i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){m(e.$$.fragment,l),n=!1},d(l){w(e,l)}}}function Ct(i){let e,n;return e=new dt({}),{c(){b(e.$$.fragment)},l(l){v(e.$$.fragment,l)},m(l,t){k(e,l,t),n=!0},p:E,i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){m(e.$$.fragment,l),n=!1},d(l){w(e,l)}}}function Dt(i){let e,n,l,t={ctx:i,current:null,token:null,hasCatch:!1,pending:Ft,then:Vt,catch:St,value:3,blocks:[,,,]};return me(n=i[3],t),{c(){e=C(),t.block.c()},l(s){e=C(),t.block.l(s)},m(s,r){$(s,e,r),t.block.m(s,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e,l=!0},p(s,r){i=s,t.ctx=i,r&8&&n!==(n=i[3])&&me(n,t)||qe(t,i,r)},i(s){l||(_(t.block),l=!0)},o(s){for(let r=0;r<3;r+=1){const a=t.blocks[r];m(a)}l=!1},d(s){s&&p(e),t.block.d(s),t.token=null,t=null}}}function St(i){return{c:E,l:E,m:E,p:E,i:E,o:E,d:E}}function Vt(i){let e,n,l,t,s,r,a=i[3].totalItems==0&&Ee();n=new ht({props:{$$slots:{default:[Bt]},$$scope:{ctx:i}}});function o(u){i[8](u)}let f={pages:i[3].totalPages};return i[1]!==void 0&&(f.page=i[1]),t=new ft({props:f}),T.push(()=>X(t,"page",o)),{c(){a&&a.c(),e=P(),b(n.$$.fragment),l=P(),b(t.$$.fragment)},l(u){a&&a.l(u),e=U(u),v(n.$$.fragment,u),l=U(u),v(t.$$.fragment,u)},m(u,c){a&&a.m(u,c),$(u,e,c),k(n,u,c),$(u,l,c),k(t,u,c),r=!0},p(u,c){u[3].totalItems==0?a||(a=Ee(),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null);const d={};c&8200&&(d.$$scope={dirty:c,ctx:u}),n.$set(d);const h={};c&8&&(h.pages=u[3].totalPages),!s&&c&2&&(s=!0,h.page=u[1],Q(()=>s=!1)),t.$set(h)},i(u){r||(_(n.$$.fragment,u),_(t.$$.fragment,u),r=!0)},o(u){m(n.$$.fragment,u),m(t.$$.fragment,u),r=!1},d(u){u&&(p(e),p(l)),a&&a.d(u),w(n,u),w(t,u)}}}function Ee(i){let e;return{c(){e=j("No files.")},l(n){e=R(n,"No files.")},m(n,l){$(n,e,l)},d(n){n&&p(e)}}}function jt(i){let e,n,l;return{c(){e=N("img"),this.h()},l(t){e=y(t,"IMG",{slot:!0,class:!0,src:!0,alt:!0}),this.h()},h(){I(e,"slot","image"),I(e,"class","rounded-lg grow object-cover"),pe(e.src,n=de(i[10]))||I(e,"src",n),I(e,"alt",l=i[10].file)},m(t,s){$(t,e,s)},p(t,s){s&8&&!pe(e.src,n=de(t[10]))&&I(e,"src",n),s&8&&l!==(l=t[10].file)&&I(e,"alt",l)},d(t){t&&p(e)}}}function Rt(i){let e,n=i[10].name+"",l;return{c(){e=N("div"),l=j(n),this.h()},l(t){e=y(t,"DIV",{slot:!0});var s=D(e);l=R(s,n),s.forEach(p),this.h()},h(){I(e,"slot","subtitle")},m(t,s){$(t,e,s),V(e,l)},p(t,s){s&8&&n!==(n=t[10].name+"")&&q(l,n)},d(t){t&&p(e)}}}function zt(i){let e,n,l;return e=new It({props:{size:"lg",$$slots:{subtitle:[Rt],image:[jt]},$$scope:{ctx:i}}}),{c(){b(e.$$.fragment),n=P()},l(t){v(e.$$.fragment,t),n=U(t)},m(t,s){k(e,t,s),$(t,n,s),l=!0},p(t,s){const r={};s&8200&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){l||(_(e.$$.fragment,t),l=!0)},o(t){m(e.$$.fragment,t),l=!1},d(t){t&&p(n),w(e,t)}}}function Le(i){let e,n;return e=new Z({props:{href:"/view/"+i[10].id,$$slots:{default:[zt]},$$scope:{ctx:i}}}),{c(){b(e.$$.fragment)},l(l){v(e.$$.fragment,l)},m(l,t){k(e,l,t),n=!0},p(l,t){const s={};t&8&&(s.href="/view/"+l[10].id),t&8200&&(s.$$scope={dirty:t,ctx:l}),e.$set(s)},i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){m(e.$$.fragment,l),n=!1},d(l){w(e,l)}}}function Bt(i){let e,n,l=Y(i[3].items),t=[];for(let r=0;r<l.length;r+=1)t[r]=Le(Ne(i,l,r));const s=r=>m(t[r],1,1,()=>{t[r]=null});return{c(){for(let r=0;r<t.length;r+=1)t[r].c();e=C()},l(r){for(let a=0;a<t.length;a+=1)t[a].l(r);e=C()},m(r,a){for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(r,a);$(r,e,a),n=!0},p(r,a){if(a&8){l=Y(r[3].items);let o;for(o=0;o<l.length;o+=1){const f=Ne(r,l,o);t[o]?(t[o].p(f,a),_(t[o],1)):(t[o]=Le(f),t[o].c(),_(t[o],1),t[o].m(e.parentNode,e))}for(z(),o=l.length;o<t.length;o+=1)s(o);B()}},i(r){if(!n){for(let a=0;a<l.length;a+=1)_(t[a]);n=!0}},o(r){t=t.filter(Boolean);for(let a=0;a<t.length;a+=1)m(t[a]);n=!1},d(r){r&&p(e),Ue(t,r)}}}function Ft(i){let e,n;return e=new Ae({}),{c(){b(e.$$.fragment)},l(l){v(e.$$.fragment,l)},m(l,t){k(e,l,t),n=!0},p:E,i(l){n||(_(e.$$.fragment,l),n=!0)},o(l){m(e.$$.fragment,l),n=!1},d(l){w(e,l)}}}function Mt(i){let e,n,l,t;const s=[Dt,Ct],r=[];function a(o,f){return o[2]?0:1}return e=a(i),n=r[e]=s[e](i),{c(){n.c(),l=C()},l(o){n.l(o),l=C()},m(o,f){r[e].m(o,f),$(o,l,f),t=!0},p(o,f){let u=e;e=a(o),e===u?r[e].p(o,f):(z(),m(r[u],1,1,()=>{r[u]=null}),B(),n=r[e],n?n.p(o,f):(n=r[e]=s[e](o),n.c()),_(n,1),n.m(l.parentNode,l))},i(o){t||(_(n),t=!0)},o(o){m(n),t=!1},d(o){o&&p(l),r[e].d(o)}}}function Ot(i){let e,n,l,t;return e=new Te({props:{$$slots:{end:[Ut],middle:[Pt],start:[Lt]},$$scope:{ctx:i}}}),l=new je({props:{$$slots:{default:[Mt]},$$scope:{ctx:i}}}),{c(){b(e.$$.fragment),n=P(),b(l.$$.fragment)},l(s){v(e.$$.fragment,s),n=U(s),v(l.$$.fragment,s)},m(s,r){k(e,s,r),$(s,n,r),k(l,s,r),t=!0},p(s,[r]){const a={};r&8199&&(a.$$scope={dirty:r,ctx:s}),e.$set(a);const o={};r&8206&&(o.$$scope={dirty:r,ctx:s}),l.$set(o)},i(s){t||(_(e.$$.fragment,s),_(l.$$.fragment,s),t=!0)},o(s){m(e.$$.fragment,s),m(l.$$.fragment,s),t=!1},d(s){s&&p(n),w(e,s),w(l,s)}}}function Tt(i,e,n){let l,t,s;H(i,Se,h=>n(2,s=h));let r=null;const a=Ie("page",1,h=>Number(h));H(i,a,h=>n(1,t=h));const o=Ie("filter","");H(i,o,h=>n(0,l=h));async function f(h={}){r!=null&&await r,n(3,r=ae.collection("files").getList(t,30,{sort:"-created",filter:`name~"${encodeURIComponent(l)}"`,...h}))}function u(h){const{detail:A}=h;ee(a,t=1,t),ee(o,l=A,l)}const c=()=>ee(a,t=1,t);function d(h){t=h,a.set(t)}return i.$$.update=()=>{if(i.$$.dirty&7&&s){let h=!1;isNaN(t)||(h=!0),l&&(h=!0),h&&f()}},[l,t,s,r,a,o,u,c,d]}class Jt extends M{constructor(e){super(),O(this,e,Tt,Ot,F,{})}}export{Jt as component};
