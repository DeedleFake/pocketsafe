import{s as E,n as N,r as S,e as T}from"../chunks/scheduler.0318841a.js";import{S as A,i as j,s as w,g as d,c as P,h,j as k,f as _,k as p,a as v,x as f,z as b,y as g,A as q,m as z,n as C,o as F}from"../chunks/index.50f89c5a.js";import{h as L}from"../chunks/singletons.3898280c.js";import{p as M,c as O}from"../chunks/pocketbase.49afd870.js";const U=L("goto");function I(i){let a,t;return{c(){a=d("span"),t=z(i[2]),this.h()},l(s){a=h(s,"SPAN",{class:!0});var n=k(a);t=C(n,i[2]),n.forEach(_),this.h()},h(){p(a,"class","text-red-500")},m(s,n){v(s,a,n),f(a,t)},p(s,n){n&4&&F(t,s[2])},d(s){s&&_(a)}}}function R(i){let a,t,s,n,l,c,u,m,y,r=i[2]&&I(i);return{c(){r&&r.c(),a=w(),t=d("form"),s=d("input"),n=w(),l=d("input"),c=w(),u=d("input"),this.h()},l(e){r&&r.l(e),a=P(e),t=h(e,"FORM",{class:!0});var o=k(t);s=h(o,"INPUT",{type:!0,name:!0,placeholder:!0}),n=P(o),l=h(o,"INPUT",{type:!0,name:!0,placeholder:!0}),c=P(o),u=h(o,"INPUT",{type:!0}),o.forEach(_),this.h()},h(){p(s,"type","text"),p(s,"name","email"),p(s,"placeholder","E-mail address..."),p(l,"type","password"),p(l,"name","password"),p(l,"placeholder","Password..."),p(u,"type","submit"),u.value="Login",p(t,"class","flex flex-col items-start gap-4")},m(e,o){r&&r.m(e,o),v(e,a,o),v(e,t,o),f(t,s),b(s,i[0]),f(t,n),f(t,l),b(l,i[1]),f(t,c),f(t,u),m||(y=[g(s,"input",i[6]),g(l,"input",i[7]),g(t,"submit",q(i[3]))],m=!0)},p(e,[o]){e[2]?r?r.p(e,o):(r=I(e),r.c(),r.m(a.parentNode,a)):r&&(r.d(1),r=null),o&1&&s.value!==e[0]&&b(s,e[0]),o&2&&l.value!==e[1]&&b(l,e[1])},i:N,o:N,d(e){e&&(_(a),_(t)),r&&r.d(e),m=!1,S(y)}}}function W(i,a,t){let s;T(i,O,e=>t(5,s=e));let{redirect:n="/"}=a,l="",c="",u="";async function m(){try{await M.collection("users").authWithPassword(l,c),await U(n)}catch(e){console.error(e),t(2,u=u(400,"Incorrect login information."))}}function y(){l=this.value,t(0,l)}function r(){c=this.value,t(1,c)}return i.$$set=e=>{"redirect"in e&&t(4,n=e.redirect)},i.$$.update=()=>{i.$$.dirty&48&&s&&U(n)},[l,c,u,m,n,s,y,r]}class J extends A{constructor(a){super(),j(this,a,W,R,E,{redirect:4})}}export{J as component};
