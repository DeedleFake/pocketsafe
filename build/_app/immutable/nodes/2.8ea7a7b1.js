import{s as G,a as P,f as N,c as U,g as E,j as h,i as d,A as J,d as _,z as W,B as ie,l as y,m as j,p as A,e as C,y as L,C as de,D as F,E as H,F as Q,G as X,h as V,H as Ve,I as Y,x as R,J as ye,K as je,n as q,L as $e,r as ae,u as oe,v as fe,w as ue,M as Oe,N as ne,O as se}from"../chunks/scheduler.c073d8ea.js";import{B as ce,c as Re,p as Z,g as ze,L as K,a as Be,N as Te,h as ge,u as qe,C as Ae,t as he}from"../chunks/CircularProgress.2453f4d0.js";import{S as O,i as T,b as v,d as k,m as w,a as p,t as m,e as I,f as x,g as B,c as M}from"../chunks/index.12b87e20.js";import{j as Me,w as He,k as Je}from"../chunks/singletons.05260205.js";function ee(i){return(i==null?void 0:i.length)!==void 0?i:Array.from(i)}function Ke(i){let e;return{c(){e=y("Upload")},l(n){e=j(n,"Upload")},m(n,t){d(n,e,t)},d(n){n&&_(e)}}}function We(i){let e,n,t,l,s,r;return e=new ce({props:{$$slots:{default:[Ke]},$$scope:{ctx:i}}}),e.$on("click",i[2]),{c(){v(e.$$.fragment),n=P(),t=N("input"),this.h()},l(a){k(e.$$.fragment,a),n=U(a),t=E(a,"INPUT",{type:!0,class:!0}),this.h()},h(){h(t,"type","file"),h(t,"class","hidden")},m(a,o){w(e,a,o),d(a,n,o),d(a,t,o),i[3](t),l=!0,s||(r=J(t,"change",i[4]),s=!0)},p(a,[o]){const u={};o&256&&(u.$$scope={dirty:o,ctx:a}),e.$set(u)},i(a){l||(p(e.$$.fragment,a),l=!0)},o(a){m(e.$$.fragment,a),l=!1},d(a){a&&(_(n),_(t)),I(e,a),i[3](null),s=!1,r()}}}function Qe(i,e,n){let t;W(i,Re,c=>n(5,t=c));const l=ie();let s=null,r=null;async function a(){let c=[];for(const $ of r)c.push(Z.collection("files").create({name:$.name,file:$,owner:t.id}));await Promise.all(c),l("upload",r),n(0,r=null)}const o=()=>s.click();function u(c){A[c?"unshift":"push"](()=>{s=c,n(1,s)})}function f(){r=this.files,n(0,r)}return i.$$.update=()=>{i.$$.dirty&1&&r&&a()},[r,s,o,u,f]}class Xe extends O{constructor(e){super(),T(this,e,Qe,We,G,{})}}function Ye(i){let e,n,t,l=[{type:"text"},{class:i[2]},i[3]],s={};for(let r=0;r<l.length;r+=1)s=F(s,l[r]);return{c(){e=N("input"),this.h()},l(r){e=E(r,"INPUT",{type:!0,class:!0}),this.h()},h(){Q(e,s)},m(r,a){d(r,e,a),e.autofocus&&e.focus(),X(e,i[0]),n||(t=J(e,"input",i[5]),n=!0)},p(r,a){Q(e,s=ze(l,[{type:"text"},{class:r[2]},a&8&&r[3]])),a&1&&e.value!==r[0]&&X(e,r[0])},d(r){r&&_(e),n=!1,t()}}}function Ze(i){let e,n,t,l=[{type:"password"},{class:i[2]},i[3]],s={};for(let r=0;r<l.length;r+=1)s=F(s,l[r]);return{c(){e=N("input"),this.h()},l(r){e=E(r,"INPUT",{type:!0,class:!0}),this.h()},h(){Q(e,s)},m(r,a){d(r,e,a),e.autofocus&&e.focus(),X(e,i[0]),n||(t=J(e,"input",i[4]),n=!0)},p(r,a){Q(e,s=ze(l,[{type:"password"},{class:r[2]},a&8&&r[3]])),a&1&&e.value!==r[0]&&X(e,r[0])},d(r){r&&_(e),n=!1,t()}}}function xe(i){let e;function n(s,r){return s[1]?Ze:Ye}let t=n(i),l=t(i);return{c(){l.c(),e=C()},l(s){l.l(s),e=C()},m(s,r){l.m(s,r),d(s,e,r)},p(s,[r]){t===(t=n(s))&&l?l.p(s,r):(l.d(1),l=t(s),l&&(l.c(),l.m(e.parentNode,e)))},i:L,o:L,d(s){s&&_(e),l.d(s)}}}function et(i,e,n){const t=["password","value"];let l=de(e,t),{password:s=!1}=e,{value:r=""}=e;const a=`
		px-2
		py-1
		rounded-2xl
		border-4
		transition-all
		text-slate-100
		outline-none
		border-cyan-500
		dark:text-slate-800
		hover:border-cyan-600
		focus:border-cyan-700
		disabled:bg-cyan-200
		disabled:text-cyan-700
		disabled:border-cyan-300
	`;function o(){r=this.value,n(0,r)}function u(){r=this.value,n(0,r)}return i.$$set=f=>{e=F(F({},e),H(f)),n(3,l=de(e,t)),"password"in f&&n(1,s=f.password),"value"in f&&n(0,r=f.value)},[r,s,a,l,o,u]}class re extends O{constructor(e){super(),T(this,e,et,xe,G,{password:1,value:0})}}function tt(i){let e,n,t,l,s,r;function a(u){i[2](u)}let o={placeholder:"Search..."};return i[0]!==void 0&&(o.value=i[0]),n=new re({props:o}),A.push(()=>x(n,"value",a)),{c(){e=N("form"),v(n.$$.fragment),this.h()},l(u){e=E(u,"FORM",{class:!0});var f=V(e);k(n.$$.fragment,f),f.forEach(_),this.h()},h(){h(e,"class","contents")},m(u,f){d(u,e,f),w(n,e,null),l=!0,s||(r=J(e,"submit",Ve(i[1])),s=!0)},p(u,[f]){const c={};!t&&f&1&&(t=!0,c.value=u[0],Y(()=>t=!1)),n.$set(c)},i(u){l||(p(n.$$.fragment,u),l=!0)},o(u){m(n.$$.fragment,u),l=!1},d(u){u&&_(e),I(n),s=!1,r()}}}function lt(i,e,n){const t=ie();let{value:l=""}=e;function s(){t("submit",l)}function r(a){l=a,n(0,l)}return i.$$set=a=>{"value"in a&&n(0,l=a.value)},[l,s,r]}class nt extends O{constructor(e){super(),T(this,e,lt,tt,G,{value:0})}}function be(i,e,n){const t=i.slice();return t[7]=e[n],t}function ve(i){let e,n,t,l="...",s;return e=new K({props:{$$slots:{default:[st]},$$scope:{ctx:i}}}),e.$on("click",i[3]),{c(){v(e.$$.fragment),n=P(),t=N("div"),t.textContent=l},l(r){k(e.$$.fragment,r),n=U(r),t=E(r,"DIV",{"data-svelte-h":!0}),je(t)!=="svelte-12rhcfw"&&(t.textContent=l)},m(r,a){w(e,r,a),d(r,n,a),d(r,t,a),s=!0},p(r,a){const o={};a&1024&&(o.$$scope={dirty:a,ctx:r}),e.$set(o)},i(r){s||(p(e.$$.fragment,r),s=!0)},o(r){m(e.$$.fragment,r),s=!1},d(r){r&&(_(n),_(t)),I(e,r)}}}function st(i){let e;return{c(){e=y("1")},l(n){e=j(n,"1")},m(n,t){d(n,e,t)},d(n){n&&_(e)}}}function rt(i){let e,n;function t(...l){return i[4](i[7],...l)}return e=new K({props:{$$slots:{default:[at]},$$scope:{ctx:i}}}),e.$on("click",t),{c(){v(e.$$.fragment)},l(l){k(e.$$.fragment,l)},m(l,s){w(e,l,s),n=!0},p(l,s){i=l;const r={};s&1025&&(r.$$scope={dirty:s,ctx:i}),e.$set(r)},i(l){n||(p(e.$$.fragment,l),n=!0)},o(l){m(e.$$.fragment,l),n=!1},d(l){I(e,l)}}}function it(i){let e,n;return{c(){e=N("div"),n=y(i[0])},l(t){e=E(t,"DIV",{});var l=V(e);n=j(l,i[0]),l.forEach(_)},m(t,l){d(t,e,l),R(e,n)},p(t,l){l&1&&q(n,t[0])},i:L,o:L,d(t){t&&_(e)}}}function at(i){let e=i[7]+"",n;return{c(){n=y(e)},l(t){n=j(t,e)},m(t,l){d(t,n,l)},p(t,l){l&1&&e!==(e=t[7]+"")&&q(n,e)},d(t){t&&_(n)}}}function ke(i){let e,n,t,l;const s=[it,rt],r=[];function a(o,u){return o[7]===o[0]?0:o[7]>1&&o[7]<o[1]?1:-1}return~(e=a(i))&&(n=r[e]=s[e](i)),{c(){n&&n.c(),t=C()},l(o){n&&n.l(o),t=C()},m(o,u){~e&&r[e].m(o,u),d(o,t,u),l=!0},p(o,u){let f=e;e=a(o),e===f?~e&&r[e].p(o,u):(n&&(B(),m(r[f],1,1,()=>{r[f]=null}),M()),~e?(n=r[e],n?n.p(o,u):(n=r[e]=s[e](o),n.c()),p(n,1),n.m(t.parentNode,t)):n=null)},i(o){l||(p(n),l=!0)},o(o){m(n),l=!1},d(o){o&&_(t),~e&&r[e].d(o)}}}function we(i){let e,n="...",t,l,s;return l=new K({props:{$$slots:{default:[ot]},$$scope:{ctx:i}}}),l.$on("click",i[5]),{c(){e=N("div"),e.textContent=n,t=P(),v(l.$$.fragment)},l(r){e=E(r,"DIV",{"data-svelte-h":!0}),je(e)!=="svelte-12rhcfw"&&(e.textContent=n),t=U(r),k(l.$$.fragment,r)},m(r,a){d(r,e,a),d(r,t,a),w(l,r,a),s=!0},p(r,a){const o={};a&1026&&(o.$$scope={dirty:a,ctx:r}),l.$set(o)},i(r){s||(p(l.$$.fragment,r),s=!0)},o(r){m(l.$$.fragment,r),s=!1},d(r){r&&(_(e),_(t)),I(l,r)}}}function ot(i){let e;return{c(){e=y(i[1])},l(n){e=j(n,i[1])},m(n,t){d(n,e,t)},p(n,t){t&2&&q(e,n[1])},d(n){n&&_(e)}}}function ft(i){let e,n,t,l,s=i[0]!==1&&ve(i),r=ee([i[0]-2,i[0]-1,i[0],i[0]+1,i[0]+2]),a=[];for(let f=0;f<5;f+=1)a[f]=ke(be(i,r,f));const o=f=>m(a[f],1,1,()=>{a[f]=null});let u=i[0]!==i[1]&&we(i);return{c(){e=N("div"),s&&s.c(),n=P();for(let f=0;f<5;f+=1)a[f].c();t=P(),u&&u.c(),this.h()},l(f){e=E(f,"DIV",{class:!0});var c=V(e);s&&s.l(c),n=U(c);for(let $=0;$<5;$+=1)a[$].l(c);t=U(c),u&&u.l(c),c.forEach(_),this.h()},h(){h(e,"class","flex flex-row justify-between items-center gap-4")},m(f,c){d(f,e,c),s&&s.m(e,null),R(e,n);for(let $=0;$<5;$+=1)a[$]&&a[$].m(e,null);R(e,t),u&&u.m(e,null),l=!0},p(f,[c]){if(f[0]!==1?s?(s.p(f,c),c&1&&p(s,1)):(s=ve(f),s.c(),p(s,1),s.m(e,n)):s&&(B(),m(s,1,1,()=>{s=null}),M()),c&7){r=ee([f[0]-2,f[0]-1,f[0],f[0]+1,f[0]+2]);let $;for($=0;$<5;$+=1){const S=be(f,r,$);a[$]?(a[$].p(S,c),p(a[$],1)):(a[$]=ke(S),a[$].c(),p(a[$],1),a[$].m(e,t))}for(B(),$=5;$<5;$+=1)o($);M()}f[0]!==f[1]?u?(u.p(f,c),c&3&&p(u,1)):(u=we(f),u.c(),p(u,1),u.m(e,null)):u&&(B(),m(u,1,1,()=>{u=null}),M())},i(f){if(!l){p(s);for(let c=0;c<5;c+=1)p(a[c]);p(u),l=!0}},o(f){m(s),a=a.filter(Boolean);for(let c=0;c<5;c+=1)m(a[c]);m(u),l=!1},d(f){f&&_(e),s&&s.d(),ye(a,f),u&&u.d()}}}function ut(i,e,n){const t=ie();let{page:l=1}=e,{pages:s=1}=e;function r(f,c){f==null||f.preventDefault(),n(0,l=c),t("change",c)}const a=f=>r(f,1),o=(f,c)=>r(c,f),u=f=>r(f,s);return i.$$set=f=>{"page"in f&&n(0,l=f.page),"pages"in f&&n(1,s=f.pages)},i.$$.update=()=>{i.$$.dirty&3&&s&&(l<1||isNaN(l))&&r(null,1),i.$$.dirty&3&&s&&l>s&&r(null,s)},[l,s,r,a,o,u]}class ct extends O{constructor(e){super(),T(this,e,ut,ft,G,{page:0,pages:1})}}function _t(i){let e;return{c(){e=y("Login")},l(n){e=j(n,"Login")},m(n,t){d(n,e,t)},d(n){n&&_(e)}}}function pt(i){let e,n,t,l,s,r,a,o,u,f,c,$,S,b;function te(g){i[4](g)}let _e={placeholder:"E-mail address..."};i[0]!==void 0&&(_e.value=i[0]),s=new re({props:_e}),A.push(()=>x(s,"value",te));function Ge(g){i[5](g)}let pe={password:!0,placeholder:"Password..."};return i[1]!==void 0&&(pe.value=i[1]),o=new re({props:pe}),A.push(()=>x(o,"value",Ge)),c=new ce({props:{type:"submit",disabled:!i[0]||!i[1],$$slots:{default:[_t]},$$scope:{ctx:i}}}),{c(){e=N("div"),n=y(i[2]),t=P(),l=N("form"),v(s.$$.fragment),a=P(),v(o.$$.fragment),f=P(),v(c.$$.fragment),this.h()},l(g){e=E(g,"DIV",{class:!0});var D=V(e);n=j(D,i[2]),D.forEach(_),t=U(g),l=E(g,"FORM",{class:!0});var z=V(l);k(s.$$.fragment,z),a=U(z),k(o.$$.fragment,z),f=U(z),k(c.$$.fragment,z),z.forEach(_),this.h()},h(){h(e,"class","text-red-500"),$e(e,"invisible",!i[2]),h(l,"class","flex flex-col items-end gap-4")},m(g,D){d(g,e,D),R(e,n),d(g,t,D),d(g,l,D),w(s,l,null),R(l,a),w(o,l,null),R(l,f),w(c,l,null),$=!0,S||(b=J(l,"submit",Ve(i[3])),S=!0)},p(g,D){(!$||D&4)&&q(n,g[2]),(!$||D&4)&&$e(e,"invisible",!g[2]);const z={};!r&&D&1&&(r=!0,z.value=g[0],Y(()=>r=!1)),s.$set(z);const me={};!u&&D&2&&(u=!0,me.value=g[1],Y(()=>u=!1)),o.$set(me);const le={};D&3&&(le.disabled=!g[0]||!g[1]),D&64&&(le.$$scope={dirty:D,ctx:g}),c.$set(le)},i(g){$||(p(s.$$.fragment,g),p(o.$$.fragment,g),p(c.$$.fragment,g),$=!0)},o(g){m(s.$$.fragment,g),m(o.$$.fragment,g),m(c.$$.fragment,g),$=!1},d(g){g&&(_(e),_(t),_(l)),I(s),I(o),I(c),S=!1,b()}}}function mt(i){let e,n;return e=new Be({props:{$$slots:{default:[pt]},$$scope:{ctx:i}}}),{c(){v(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p(t,[l]){const s={};l&71&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function dt(i,e,n){let t="",l="",s=null;async function r(){try{await Z.collection("users").authWithPassword(t,l)}catch(u){console.error(u),n(2,s="Incorrect login information.");return}}function a(u){t=u,n(0,t)}function o(u){l=u,n(1,l)}return[t,l,s,r,a,o]}class $t extends O{constructor(e){super(),T(this,e,dt,mt,G,{})}}function gt(i){let e,n,t;const l=i[2].default,s=ae(l,i,i[1],null);return{c(){e=N("div"),s&&s.c(),this.h()},l(r){e=E(r,"DIV",{class:!0});var a=V(e);s&&s.l(a),a.forEach(_),this.h()},h(){h(e,"class",n="flex flex-row flex-wrap justify-center items-start gap-4 "+i[0])},m(r,a){d(r,e,a),s&&s.m(e,null),t=!0},p(r,[a]){s&&s.p&&(!t||a&2)&&oe(s,l,r,r[1],t?ue(l,r[1],a,null):fe(r[1]),null),(!t||a&1&&n!==(n="flex flex-row flex-wrap justify-center items-start gap-4 "+r[0]))&&h(e,"class",n)},i(r){t||(p(s,r),t=!0)},o(r){m(s,r),t=!1},d(r){r&&_(e),s&&s.d(r)}}}function ht(i,e,n){let t,{$$slots:l={},$$scope:s}=e;return i.$$set=r=>{n(3,e=F(F({},e),H(r))),"$$scope"in r&&n(1,s=r.$$scope)},i.$$.update=()=>{n(0,t=e.class)},e=H(e),[t,s,l]}class bt extends O{constructor(e){super(),T(this,e,ht,gt,G,{})}}const vt=i=>({}),Ie=i=>({}),kt=i=>({}),Ne=i=>({});function Ee(i){let e,n;const t=i[5].subtitle,l=ae(t,i,i[4],Ie);return{c(){e=N("div"),l&&l.c(),this.h()},l(s){e=E(s,"DIV",{class:!0});var r=V(e);l&&l.l(r),r.forEach(_),this.h()},h(){h(e,"class","flex flex-col items-center overflow-x-auto")},m(s,r){d(s,e,r),l&&l.m(e,null),n=!0},p(s,r){l&&l.p&&(!n||r&16)&&oe(l,t,s,s[4],n?ue(t,s[4],r,vt):fe(s[4]),Ie)},i(s){n||(p(l,s),n=!0)},o(s){m(l,s),n=!1},d(s){s&&_(e),l&&l.d(s)}}}function wt(i){let e,n,t,l,s;const r=i[5].image,a=ae(r,i,i[4],Ne);let o=i[2].subtitle&&Ee(i);return{c(){e=N("div"),n=N("div"),a&&a.c(),t=P(),o&&o.c(),this.h()},l(u){e=E(u,"DIV",{class:!0});var f=V(e);n=E(f,"DIV",{class:!0});var c=V(n);a&&a.l(c),c.forEach(_),t=U(f),o&&o.l(f),f.forEach(_),this.h()},h(){h(n,"class","flex flex-col grow justify-center items-stretch rounded-lg overflow-hidden transition-all group-hover:opacity-80 "),h(e,"class",l="group flex flex-col p-2 gap-2 rounded-2xl shadow-lg bg-slate-100 transition-all dark:bg-slate-900 dark:outline dark:outline-2 dark:outline-cyan-900 hover:shadow-xl "+i[1]+" "+i[0])},m(u,f){d(u,e,f),R(e,n),a&&a.m(n,null),R(e,t),o&&o.m(e,null),s=!0},p(u,[f]){a&&a.p&&(!s||f&16)&&oe(a,r,u,u[4],s?ue(r,u[4],f,kt):fe(u[4]),Ne),u[2].subtitle?o?(o.p(u,f),f&4&&p(o,1)):(o=Ee(u),o.c(),p(o,1),o.m(e,null)):o&&(B(),m(o,1,1,()=>{o=null}),M()),(!s||f&3&&l!==(l="group flex flex-col p-2 gap-2 rounded-2xl shadow-lg bg-slate-100 transition-all dark:bg-slate-900 dark:outline dark:outline-2 dark:outline-cyan-900 hover:shadow-xl "+u[1]+" "+u[0]))&&h(e,"class",l)},i(u){s||(p(a,u),p(o),s=!0)},o(u){m(a,u),m(o),s=!1},d(u){u&&_(e),a&&a.d(u),o&&o.d()}}}function It(i,e,n){let t,l,{$$slots:s={},$$scope:r}=e;const a=Oe(s);let{size:o="md"}=e;return i.$$set=u=>{n(6,e=F(F({},e),H(u))),"size"in u&&n(3,o=u.size),"$$scope"in u&&n(4,r=u.$$scope)},i.$$.update=()=>{i.$$.dirty&8&&n(1,t={sm:"w-24 h-24",md:"w-48 h-48",lg:"w-96 h-96"}[o]??"w-48 h-48"),n(0,l=e.class)},e=H(e),[l,t,a,o,r,s]}class Nt extends O{constructor(e){super(),T(this,e,It,wt,G,{size:3})}}function Fe(i){return i=new URL(i),i.hash?new URLSearchParams(i.hash.substring(1)):new URLSearchParams}const Et=He(window.location,i=>{const e=n=>{i(n.newURL)};return window.addEventListener("hashchange",e),()=>{window.removeEventListener("hashchange",e)}}),Lt={subscribe:Me(Et,i=>Fe(i)).subscribe,set:i=>{window.location.hash=i}};function Le(i,e,n=t=>t){return{subscribe:Me(Lt,t=>{const l=t.get(i);return l==null?e:n(l)}).subscribe,set:t=>{window.location.hash=Pt(Fe(window.location),{[i]:t}).toString()}}}function Pt(i,e={}){return Object.entries(e).reduce((n,[t,l])=>(n.set(t,l),n),i??new URLSearchParams)}function Pe(i,e,n){const t=i.slice();return t[11]=e[n],t}function Ut(i){let e,n;return{c(){e=N("img"),this.h()},l(t){e=E(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){h(e,"class","max-h-8"),se(e.src,n=Je+"/favicon.png")||h(e,"src",n),h(e,"alt","PocketSafe")},m(t,l){d(t,e,l)},p:L,d(t){t&&_(e)}}}function Ue(i){let e,n;return e=new Xe({}),e.$on("upload",i[8]),{c(){v(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p:L,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Dt(i){let e,n,t,l;e=new K({props:{class:"hover:opacity-50 transition-all",href:"/",$$slots:{default:[Ut]},$$scope:{ctx:i}}});let s=i[2]&&Ue(i);return{c(){v(e.$$.fragment),n=P(),s&&s.c(),t=C()},l(r){k(e.$$.fragment,r),n=U(r),s&&s.l(r),t=C()},m(r,a){w(e,r,a),d(r,n,a),s&&s.m(r,a),d(r,t,a),l=!0},p(r,a){const o={};a&16384&&(o.$$scope={dirty:a,ctx:r}),e.$set(o),r[2]?s?(s.p(r,a),a&4&&p(s,1)):(s=Ue(r),s.c(),p(s,1),s.m(t.parentNode,t)):s&&(B(),m(s,1,1,()=>{s=null}),M())},i(r){l||(p(e.$$.fragment,r),p(s),l=!0)},o(r){m(e.$$.fragment,r),m(s),l=!1},d(r){r&&(_(n),_(t)),I(e,r),s&&s.d(r)}}}function Ct(i){let e,n;return e=new nt({props:{value:i[0]}}),e.$on("submit",i[7]),{c(){v(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p(t,l){const s={};l&1&&(s.value=t[0]),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function De(i){let e,n=i[2].username+"",t,l,s,r;return s=new ce({props:{$$slots:{default:[St]},$$scope:{ctx:i}}}),s.$on("click",i[6]),{c(){e=N("div"),t=y(n),l=P(),v(s.$$.fragment)},l(a){e=E(a,"DIV",{});var o=V(e);t=j(o,n),o.forEach(_),l=U(a),k(s.$$.fragment,a)},m(a,o){d(a,e,o),R(e,t),d(a,l,o),w(s,a,o),r=!0},p(a,o){(!r||o&4)&&n!==(n=a[2].username+"")&&q(t,n);const u={};o&16384&&(u.$$scope={dirty:o,ctx:a}),s.$set(u)},i(a){r||(p(s.$$.fragment,a),r=!0)},o(a){m(s.$$.fragment,a),r=!1},d(a){a&&(_(e),_(l)),I(s,a)}}}function St(i){let e;return{c(){e=y("Logout")},l(n){e=j(n,"Logout")},m(n,t){d(n,e,t)},d(n){n&&_(e)}}}function Vt(i){let e,n,t=i[2]&&De(i);return{c(){t&&t.c(),e=C()},l(l){t&&t.l(l),e=C()},m(l,s){t&&t.m(l,s),d(l,e,s),n=!0},p(l,s){l[2]?t?(t.p(l,s),s&4&&p(t,1)):(t=De(l),t.c(),p(t,1),t.m(e.parentNode,e)):t&&(B(),m(t,1,1,()=>{t=null}),M())},i(l){n||(p(t),n=!0)},o(l){m(t),n=!1},d(l){l&&_(e),t&&t.d(l)}}}function yt(i){let e,n;return e=new $t({}),{c(){v(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p:L,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function jt(i){let e,n,t,l={ctx:i,current:null,token:null,hasCatch:!1,pending:Ot,then:zt,catch:Rt,value:3,blocks:[,,,]};return ge(n=i[3],l),{c(){e=C(),l.block.c()},l(s){e=C(),l.block.l(s)},m(s,r){d(s,e,r),l.block.m(s,l.anchor=r),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(s,r){i=s,l.ctx=i,r&8&&n!==(n=i[3])&&ge(n,l)||qe(l,i,r)},i(s){t||(p(l.block),t=!0)},o(s){for(let r=0;r<3;r+=1){const a=l.blocks[r];m(a)}t=!1},d(s){s&&_(e),l.block.d(s),l.token=null,l=null}}}function Rt(i){return{c:L,l:L,m:L,p:L,i:L,o:L,d:L}}function zt(i){let e,n,t,l,s,r,a=i[3].totalItems==0&&Ce();n=new bt({props:{$$slots:{default:[Gt]},$$scope:{ctx:i}}});function o(f){i[9](f)}let u={pages:i[3].totalPages};return i[1]!==void 0&&(u.page=i[1]),l=new ct({props:u}),A.push(()=>x(l,"page",o)),{c(){a&&a.c(),e=P(),v(n.$$.fragment),t=P(),v(l.$$.fragment)},l(f){a&&a.l(f),e=U(f),k(n.$$.fragment,f),t=U(f),k(l.$$.fragment,f)},m(f,c){a&&a.m(f,c),d(f,e,c),w(n,f,c),d(f,t,c),w(l,f,c),r=!0},p(f,c){f[3].totalItems==0?a||(a=Ce(),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null);const $={};c&16392&&($.$$scope={dirty:c,ctx:f}),n.$set($);const S={};c&8&&(S.pages=f[3].totalPages),!s&&c&2&&(s=!0,S.page=f[1],Y(()=>s=!1)),l.$set(S)},i(f){r||(p(n.$$.fragment,f),p(l.$$.fragment,f),r=!0)},o(f){m(n.$$.fragment,f),m(l.$$.fragment,f),r=!1},d(f){f&&(_(e),_(t)),a&&a.d(f),I(n,f),I(l,f)}}}function Ce(i){let e;return{c(){e=y("No files.")},l(n){e=j(n,"No files.")},m(n,t){d(n,e,t)},d(n){n&&_(e)}}}function Bt(i){let e,n,t;return{c(){e=N("img"),this.h()},l(l){e=E(l,"IMG",{slot:!0,class:!0,src:!0,alt:!0}),this.h()},h(){h(e,"slot","image"),h(e,"class","rounded-lg grow object-cover"),se(e.src,n=he(i[11]))||h(e,"src",n),h(e,"alt",t=i[11].file)},m(l,s){d(l,e,s)},p(l,s){s&8&&!se(e.src,n=he(l[11]))&&h(e,"src",n),s&8&&t!==(t=l[11].file)&&h(e,"alt",t)},d(l){l&&_(e)}}}function Mt(i){let e,n=i[11].name+"",t;return{c(){e=N("div"),t=y(n),this.h()},l(l){e=E(l,"DIV",{slot:!0});var s=V(e);t=j(s,n),s.forEach(_),this.h()},h(){h(e,"slot","subtitle")},m(l,s){d(l,e,s),R(e,t)},p(l,s){s&8&&n!==(n=l[11].name+"")&&q(t,n)},d(l){l&&_(e)}}}function Ft(i){let e,n,t;return e=new Nt({props:{size:"lg",$$slots:{subtitle:[Mt],image:[Bt]},$$scope:{ctx:i}}}),{c(){v(e.$$.fragment),n=P()},l(l){k(e.$$.fragment,l),n=U(l)},m(l,s){w(e,l,s),d(l,n,s),t=!0},p(l,s){const r={};s&16392&&(r.$$scope={dirty:s,ctx:l}),e.$set(r)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){m(e.$$.fragment,l),t=!1},d(l){l&&_(n),I(e,l)}}}function Se(i){let e,n;return e=new K({props:{href:"/view/"+i[11].id,$$slots:{default:[Ft]},$$scope:{ctx:i}}}),{c(){v(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p(t,l){const s={};l&8&&(s.href="/view/"+t[11].id),l&16392&&(s.$$scope={dirty:l,ctx:t}),e.$set(s)},i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Gt(i){let e,n,t=ee(i[3].items),l=[];for(let r=0;r<t.length;r+=1)l[r]=Se(Pe(i,t,r));const s=r=>m(l[r],1,1,()=>{l[r]=null});return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=C()},l(r){for(let a=0;a<l.length;a+=1)l[a].l(r);e=C()},m(r,a){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(r,a);d(r,e,a),n=!0},p(r,a){if(a&8){t=ee(r[3].items);let o;for(o=0;o<t.length;o+=1){const u=Pe(r,t,o);l[o]?(l[o].p(u,a),p(l[o],1)):(l[o]=Se(u),l[o].c(),p(l[o],1),l[o].m(e.parentNode,e))}for(B(),o=t.length;o<l.length;o+=1)s(o);M()}},i(r){if(!n){for(let a=0;a<t.length;a+=1)p(l[a]);n=!0}},o(r){l=l.filter(Boolean);for(let a=0;a<l.length;a+=1)m(l[a]);n=!1},d(r){r&&_(e),ye(l,r)}}}function Ot(i){let e,n;return e=new Ae({}),{c(){v(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){w(e,t,l),n=!0},p:L,i(t){n||(p(e.$$.fragment,t),n=!0)},o(t){m(e.$$.fragment,t),n=!1},d(t){I(e,t)}}}function Tt(i){let e,n,t,l;const s=[jt,yt],r=[];function a(o,u){return o[2]?0:1}return e=a(i),n=r[e]=s[e](i),{c(){n.c(),t=C()},l(o){n.l(o),t=C()},m(o,u){r[e].m(o,u),d(o,t,u),l=!0},p(o,u){let f=e;e=a(o),e===f?r[e].p(o,u):(B(),m(r[f],1,1,()=>{r[f]=null}),M(),n=r[e],n?n.p(o,u):(n=r[e]=s[e](o),n.c()),p(n,1),n.m(t.parentNode,t))},i(o){l||(p(n),l=!0)},o(o){m(n),l=!1},d(o){o&&_(t),r[e].d(o)}}}function qt(i){let e,n,t,l;return e=new Te({props:{$$slots:{end:[Vt],middle:[Ct],start:[Dt]},$$scope:{ctx:i}}}),t=new Be({props:{$$slots:{default:[Tt]},$$scope:{ctx:i}}}),{c(){v(e.$$.fragment),n=P(),v(t.$$.fragment)},l(s){k(e.$$.fragment,s),n=U(s),k(t.$$.fragment,s)},m(s,r){w(e,s,r),d(s,n,r),w(t,s,r),l=!0},p(s,[r]){const a={};r&16391&&(a.$$scope={dirty:r,ctx:s}),e.$set(a);const o={};r&16398&&(o.$$scope={dirty:r,ctx:s}),t.$set(o)},i(s){l||(p(e.$$.fragment,s),p(t.$$.fragment,s),l=!0)},o(s){m(e.$$.fragment,s),m(t.$$.fragment,s),l=!1},d(s){s&&_(n),I(e,s),I(t,s)}}}function At(i,e,n){let t,l,s;W(i,Re,b=>n(2,s=b));let r=null;const a=Le("page",1,b=>Number(b));W(i,a,b=>n(1,l=b));const o=Le("filter","");W(i,o,b=>n(0,t=b));function u(b){Z.authStore.clear()}async function f(b={}){r!=null&&await r,n(3,r=Z.collection("files").getList(l,30,{sort:"-created",filter:`name~"${encodeURIComponent(t)}"`,...b}))}function c(b){const{detail:te}=b;ne(a,l=1,l),ne(o,t=te,t)}const $=()=>ne(a,l=1,l);function S(b){l=b,a.set(l)}return i.$$.update=()=>{if(i.$$.dirty&7&&s){let b=!1;isNaN(l)||(b=!0),t&&(b=!0),b&&f()}},[t,l,s,r,a,o,u,c,$,S]}class Qt extends O{constructor(e){super(),T(this,e,At,qt,G,{})}}export{Qt as component};
