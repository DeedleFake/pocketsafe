import{s as E,a as I,c as P,i as f,d as i,z as U,f as S,g as O,h as N,j as v,l as b,m as k,x as j,n as C,e as y,O as V,y as m}from"../chunks/scheduler.c073d8ea.js";import{N as q,a as z,b as J,p as L,L as B,h as w,u as D,B as M,c as G,C as T}from"../chunks/CircularProgress.7abdb88d.js";import{S as A,i as F,b as p,d,m as h,a as $,t as _,e as g}from"../chunks/index.12b87e20.js";import{k as H}from"../chunks/singletons.24de15ec.js";function K({params:l}){const{id:e}=l;return{id:e}}const me=Object.freeze(Object.defineProperty({__proto__:null,load:K},Symbol.toStringTag,{value:"Module"}));function Q(l){let e,n;return{c(){e=S("img"),this.h()},l(t){e=O(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){v(e,"class","max-h-8"),V(e.src,n=H+"/favicon.png")||v(e,"src",n),v(e,"alt","PocketSafe")},m(t,a){f(t,e,a)},p:m,d(t){t&&i(e)}}}function R(l){let e,n;return e=new B({props:{class:"hover:opacity-50 transition-all",href:"/",$$slots:{default:[Q]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,a){h(e,t,a),n=!0},p(t,a){const r={};a&128&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function W(l){return{c:m,l:m,m,p:m,d:m}}function X(l){let e=l[0].name+"",n;return{c(){n=b(e)},l(t){n=k(t,e)},m(t,a){f(t,n,a)},p(t,a){a&1&&e!==(e=t[0].name+"")&&C(n,e)},d(t){t&&i(n)}}}function Y(l){let e;return{c(){e=b(l[3])},l(n){e=k(n,l[3])},m(n,t){f(n,e,t)},p:m,d(n){n&&i(e)}}}function Z(l){let e,n,t={ctx:l,current:null,token:null,hasCatch:!1,pending:Y,then:X,catch:W,value:0};return w(n=l[0],t),{c(){e=S("div"),t.block.c(),this.h()},l(a){e=O(a,"DIV",{slot:!0});var r=N(e);t.block.l(r),r.forEach(i),this.h()},h(){v(e,"slot","middle")},m(a,r){f(a,e,r),t.block.m(e,t.anchor=null),t.mount=()=>e,t.anchor=null},p(a,r){l=a,t.ctx=l,r&1&&n!==(n=l[0])&&w(n,t)||D(t,l,r)},d(a){a&&i(e),t.block.d(),t.token=null,t=null}}}function x(l){let e;return{c(){e=b("Logout")},l(n){e=k(n,"Logout")},m(n,t){f(n,e,t)},d(n){n&&i(e)}}}function ee(l){let e,n=l[2].username+"",t,a,r,o;return r=new M({props:{$$slots:{default:[x]},$$scope:{ctx:l}}}),r.$on("click",l[4]),{c(){e=S("div"),t=b(n),a=I(),p(r.$$.fragment)},l(s){e=O(s,"DIV",{});var c=N(e);t=k(c,n),c.forEach(i),a=P(s),d(r.$$.fragment,s)},m(s,c){f(s,e,c),j(e,t),f(s,a,c),h(r,s,c),o=!0},p(s,c){(!o||c&4)&&n!==(n=s[2].username+"")&&C(t,n);const u={};c&128&&(u.$$scope={dirty:c,ctx:s}),r.$set(u)},i(s){o||($(r.$$.fragment,s),o=!0)},o(s){_(r.$$.fragment,s),o=!1},d(s){s&&(i(e),i(a)),g(r,s)}}}function te(l){let e,n=l[6]+"",t;return{c(){e=S("div"),t=b(n),this.h()},l(a){e=O(a,"DIV",{class:!0});var r=N(e);t=k(r,n),r.forEach(i),this.h()},h(){v(e,"class","text-red-500")},m(a,r){f(a,e,r),j(e,t)},p(a,r){r&1&&n!==(n=a[6]+"")&&C(t,n)},i:m,o:m,d(a){a&&i(e)}}}function ne(l){let e,n;return e=new B({props:{href:l[1],$$slots:{default:[re]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,a){h(e,t,a),n=!0},p(t,a){const r={};a&2&&(r.href=t[1]),a&129&&(r.$$scope={dirty:a,ctx:t}),e.$set(r)},i(t){n||($(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function re(l){let e=JSON.stringify(l[0])+"",n;return{c(){n=b(e)},l(t){n=k(t,e)},m(t,a){f(t,n,a)},p(t,a){a&1&&e!==(e=JSON.stringify(t[0])+"")&&C(n,e)},d(t){t&&i(n)}}}function ae(l){let e,n;return e=new T({}),{c(){p(e.$$.fragment)},l(t){d(e.$$.fragment,t)},m(t,a){h(e,t,a),n=!0},p:m,i(t){n||($(e.$$.fragment,t),n=!0)},o(t){_(e.$$.fragment,t),n=!1},d(t){g(e,t)}}}function le(l){let e,n,t,a={ctx:l,current:null,token:null,hasCatch:!0,pending:ae,then:ne,catch:te,value:0,error:6,blocks:[,,,]};return w(n=l[0],a),{c(){e=y(),a.block.c()},l(r){e=y(),a.block.l(r)},m(r,o){f(r,e,o),a.block.m(r,a.anchor=o),a.mount=()=>e.parentNode,a.anchor=e,t=!0},p(r,o){l=r,a.ctx=l,o&1&&n!==(n=l[0])&&w(n,a)||D(a,l,o)},i(r){t||($(a.block),t=!0)},o(r){for(let o=0;o<3;o+=1){const s=a.blocks[o];_(s)}t=!1},d(r){r&&i(e),a.block.d(r),a.token=null,a=null}}}function oe(l){let e,n,t,a;return e=new q({props:{$$slots:{end:[ee],middle:[Z],start:[R]},$$scope:{ctx:l}}}),t=new z({props:{$$slots:{default:[le]},$$scope:{ctx:l}}}),{c(){p(e.$$.fragment),n=I(),p(t.$$.fragment)},l(r){d(e.$$.fragment,r),n=P(r),d(t.$$.fragment,r)},m(r,o){h(e,r,o),f(r,n,o),h(t,r,o),a=!0},p(r,[o]){const s={};o&133&&(s.$$scope={dirty:o,ctx:r}),e.$set(s);const c={};o&131&&(c.$$scope={dirty:o,ctx:r}),t.$set(c)},i(r){a||($(e.$$.fragment,r),$(t.$$.fragment,r),a=!0)},o(r){_(e.$$.fragment,r),_(t.$$.fragment,r),a=!1},d(r){r&&i(n),g(e,r),g(t,r)}}}function se(l,e,n){let t,a;U(l,G,u=>n(2,a=u));let{data:r}=e;const{id:o}=r;J();let s;function c(u){L.authStore.clear()}return l.$$set=u=>{"data"in u&&n(5,r=u.data)},l.$$.update=()=>{l.$$.dirty&1&&t.then(u=>n(1,s=L.files.getUrl(u,u.file)))},n(0,t=L.collection("files").getOne(o)),[t,s,a,o,c,r]}class $e extends A{constructor(e){super(),F(this,e,se,oe,E,{data:5})}}export{$e as component,me as universal};
